<!doctype html>
<html lang="en"><head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tech_App</title>
<link rel="stylesheet" href="/assets/styles.css"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script defer src="/assets/app.js"></script>
</head><body>

<header>
  <div class="logo"><span class="dot"></span><span>FRESH</span> <small class="mono" style="color:#9aa0a6">After‑Sales</small></div>
  <nav>
    <a href="/index.html" >Dashboard</a>
    <a href="/pages/reports/index.html" >Reports</a>
    <a href="/pages/tech_app.html" class='active'>Technician</a>
    <a href="/pages/customer_app.html" >Customer</a>
    <a href="/pages/inventory.html" >Inventory</a>
    <a href="/pages/training.html" >Training</a>
    <a href="/pages/admin.html" >Admin</a>
  </nav>
</header>

<div class="container">

<div class="panel"><h2>Technician – Daily</h2>
<div class="filters">
  <select id="f-region"></select>
  <select id="f-device"></select>
  <select id="f-month"></select>
  <button class="btn" id="apply">Apply</button>
</div>
<table id="tbl"><thead><tr><th>Ticket</th><th>Region</th><th>Device</th><th>On‑time</th><th>Revisit</th></tr></thead><tbody></tbody></table>
</div>
<script>
function refresh(){
  const rows = FRESH.applyFilters(FRESH.tickets, readFilters()).slice(0,50);
  const tb = document.querySelector('#tbl tbody'); tb.innerHTML='';
  rows.forEach(r=>{
    const tr = document.createElement('tr');
    tr.innerHTML = `<td>${r.id}</td><td>${r.region}</td><td>${r.device}</td>
      <td><span class="badge ${r.ontime?'ok':'bad'}">${r.ontime?'Yes':'No'}</span></td>
      <td><span class="badge ${r.revisit?'bad':'ok'}">${r.revisit?'Yes':'No'}</span></td>`;
    tb.appendChild(tr);
  });
}
document.getElementById('apply').addEventListener('click', refresh);
document.addEventListener('DOMContentLoaded', ()=>setTimeout(refresh,100));
</script>
</div>
<footer><small class="mono">FRESH After‑Sales • Static v24</small></footer>
</body></html>